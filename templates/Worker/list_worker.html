{% extends "base.html" %}
{% block js %}  <!-- bloque de JS--> 
<script>
    function deleteworker(id_worker) {
        Swal.fire({
            title: '¿Estas seguro?',
            text: "Esta acción no se puede deshacer!",
            icon: 'warning',
            showCancelButton: true,
            cancelButtontext: '',
            confirmButtonText: 'Si, Eliminar!',
            confirmButtonColor:  '#d33',
            cancelButtonColor:'#3085d6',
        })
        .then(function(result) {
            if (result.isConfirmed) {
                window.location.href = "/Delete_worker/"+id_worker+"/"
            }
        })

    }
</script>
{% endblock %}

{%block css%}
<link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">
{% endblock %}



{% block content %}

<table style=" border: 30px solid rgb(255, 255, 255);" class="table table-striped table-hover table-responsive-sm">
     <!-- H1--> 
    <h1 style=" border: 30px solid rgb(255, 255, 255);">Listado de Trabajadores</h1>

    <thead class="table-dark">  
<hr>

<!-- boton de Nuevo centro-->
<div  style="border-right: 30px solid rgb(255, 255, 255);" class="d-grid gap-2 d-md-flex justify-content-md-end">
    <a href="{% url 'form_worker'%}"><button type="button" class="btn btn-dark"><i class="icon ion-ios-add"></i> Nuevo colaborador </button></a>
    
  </div>

<section style=" border-left:30px solid rgb(255, 255, 255);" class="webdesigntuts-workshop;">
    <form action="" method="">
        <input type="search" placeholder="Ingrese Busqueda">
        <button class="btn btn-secondary"> <i class="icon ion-md-search"></i> Buscar</button>
    </form>
</section>
        <tr>
            <th scope="col"><i class="icon ion-ios-home"></i> Id</th>
            <th scope="col"><i class="icon ion-ios-home"></i> Nombres</th>
            <th scope="col"><i class="icon ion-ios-home"></i> Apellidos </th>
            <th scope="col"><i class="icon ion-md-compass"></i> RUT</th>
            <th scope="col"><i class="icon ion-md-contact"></i> Dirección</th>
            <th scope="col"><i class="icon ion-ios-globe"></i> Región</th>
            <th scope="col"><i class="icon ion-ios-call"></i> Comuna</th>
            <th scope="col"><i class="icon ion-ios-call"></i> Teléfono</th>
            <th scope="col"><i class="icon ion-ios-call"></i> Email</th>
            <th scope="col"><i class="icon ion-ios-arrow-down"></i> Acciones</th>
        </tr>
    </thead>

    <tbody>
        {% for Worker in listado %}
        <tr>
            <td>{{Worker.id_worker}}</td>
            <td>{{Worker.name}}</td>
            <td>{{Worker.lastname}}</td>
            <th>{{Worker.rut}}</th>
            <td>{{Worker.adress}}</td>
            <td>{{Worker.region}}</td>
            <td>{{Worker.comuna}}</td>
            <td>{{Worker.phone}}</td>
            <td>{{Worker.email}}</td>
            <td><a href="{% url 'edit_worker' Worker.id_worker %}" class="btn btn-sm btn-block btn-info"><i class="icon ion-md-create"></i> Editar</a>
            <a href="#" onclick="deleteworker ({{ Worker.id_worker }})"
                    class="btn btn-sm btn-block btn-danger"><i class="icon ion-ios-trash"></i> Eliminar</a></td>
            </td>
        </tr>
        {% endfor %}

    </tbody>
</table>

<footer>
    <div class="d-flex justify-content-center">
        <a href="{% url 'home' %}"> <button type="button" type="button"
                class="btn btn-secondary"><i class="icon ion-md-arrow-back"></i> Volver</button></a>
    </div>
</footer>

{% endblock %}

</html>